â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                     FRONTEND DIRECTORY STRUCTURE ANALYSIS                    â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

CURRENT STRUCTURE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

frontend/app/src/main/java/com/cpen321/movietier/
â”œâ”€â”€ data/                          âœ… Well-organized
â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â”œâ”€â”€ ApiService.kt          (composition interface combining 7 services)
â”‚   â”‚   â”œâ”€â”€ services/              âœ… Feature-based API services
â”‚   â”‚   â”‚   â”œâ”€â”€ AuthApiService.kt
â”‚   â”‚   â”‚   â”œâ”€â”€ FeedApiService.kt
â”‚   â”‚   â”‚   â”œâ”€â”€ FriendsApiService.kt
â”‚   â”‚   â”‚   â”œâ”€â”€ MovieApiService.kt
â”‚   â”‚   â”‚   â”œâ”€â”€ RecommendationsApiService.kt
â”‚   â”‚   â”‚   â”œâ”€â”€ UserApiService.kt
â”‚   â”‚   â”‚   â””â”€â”€ WatchlistApiService.kt
â”‚   â”‚   â””â”€â”€ SseClient.kt           (Server-Sent Events)
â”‚   â”‚
â”‚   â”œâ”€â”€ local/                     âš ï¸ Needs reorganization
â”‚   â”‚   â”œâ”€â”€ TokenManager.kt        âœ… Clear purpose
â”‚   â”‚   â”œâ”€â”€ SettingsManager.kt     âœ… Clear purpose
â”‚   â”‚   â”œâ”€â”€ MovieQuoteProvider.kt  âš ï¸ Should be in services/
â”‚   â”‚   â”œâ”€â”€ MovieQuotesData.kt     âš ï¸ Should be in utils/
â”‚   â”‚   â””â”€â”€ ProvidersCache.kt      âš ï¸ Should be in services/cache/
â”‚   â”‚
â”‚   â”œâ”€â”€ model/                     âš ï¸ Mixed concerns (DTOs only, no domain)
â”‚   â”‚   â”œâ”€â”€ Movie.kt
â”‚   â”‚   â”œâ”€â”€ RankedMovie.kt
â”‚   â”‚   â”œâ”€â”€ User.kt
â”‚   â”‚   â”œâ”€â”€ Feed.kt
â”‚   â”‚   â”œâ”€â”€ Friend.kt
â”‚   â”‚   â”œâ”€â”€ Watchlist.kt
â”‚   â”‚   â””â”€â”€ WatchProviders.kt
â”‚   â”‚
â”‚   â””â”€â”€ repository/                âœ… Excellent organization
â”‚       â”œâ”€â”€ AuthRepository.kt
â”‚       â”œâ”€â”€ FeedRepository.kt
â”‚       â”œâ”€â”€ FriendRepository.kt
â”‚       â”œâ”€â”€ MovieRepository.kt
â”‚       â”œâ”€â”€ RecommendationRepository.kt
â”‚       â”œâ”€â”€ UserRepository.kt
â”‚       â””â”€â”€ WatchlistRepository.kt
â”‚
â”œâ”€â”€ domain/                        âŒ CRITICAL: Model layer is EMPTY
â”‚   â”œâ”€â”€ model/                     âŒ EMPTY - Should contain domain entities
â”‚   â”‚   â””â”€â”€ (no files)
â”‚   â”œâ”€â”€ repository/                âŒ EMPTY - No abstractions defined
â”‚   â”‚   â””â”€â”€ (no files)
â”‚   â””â”€â”€ usecase/                   âœ… Well-organized
â”‚       â”œâ”€â”€ auth/                  (3 files)
â”‚       â”‚   â”œâ”€â”€ SignInWithGoogleUseCase.kt
â”‚       â”‚   â”œâ”€â”€ SignOutUseCase.kt
â”‚       â”‚   â””â”€â”€ DeleteAccountUseCase.kt
â”‚       â”œâ”€â”€ feed/                  (3 files)
â”‚       â”‚   â”œâ”€â”€ LoadFeedUseCase.kt
â”‚       â”‚   â”œâ”€â”€ LikeActivityUseCase.kt
â”‚       â”‚   â””â”€â”€ CommentOnActivityUseCase.kt
â”‚       â”œâ”€â”€ friend/                (2 files)
â”‚       â”‚   â”œâ”€â”€ SendFriendRequestUseCase.kt
â”‚       â”‚   â””â”€â”€ RespondToFriendRequestUseCase.kt
â”‚       â”œâ”€â”€ movie/                 (3 files)
â”‚       â”‚   â”œâ”€â”€ SearchMoviesUseCase.kt
â”‚       â”‚   â”œâ”€â”€ AddMovieToRankingUseCase.kt
â”‚       â”‚   â””â”€â”€ GetMovieDetailsUseCase.kt
â”‚       â”œâ”€â”€ ranking/               (3 files)
â”‚       â”‚   â”œâ”€â”€ GetRankedMoviesUseCase.kt
â”‚       â”‚   â”œâ”€â”€ DeleteRankedMovieUseCase.kt
â”‚       â”‚   â””â”€â”€ StartRerankUseCase.kt
â”‚       â”œâ”€â”€ user/                  âŒ EMPTY
â”‚       â”‚   â””â”€â”€ (no files)
â”‚       â””â”€â”€ watchlist/             (1 file)
â”‚           â””â”€â”€ AddToWatchlistUseCase.kt
â”‚
â”œâ”€â”€ di/                            âœ… Well-organized
â”‚   â””â”€â”€ NetworkModule.kt           (Hilt DI configuration)
â”‚
â”œâ”€â”€ ui/                            âš ï¸ Inconsistent organization
â”‚   â”œâ”€â”€ auth/                      âœ… Single screen
â”‚   â”‚   â””â”€â”€ AuthScreen.kt
â”‚   â”‚
â”‚   â”œâ”€â”€ components/                âœ… Global reusable components
â”‚   â”‚   â”œâ”€â”€ interfaces/            âš ï¸ Unclear purpose
â”‚   â”‚   â”œâ”€â”€ Avatar.kt
â”‚   â”‚   â”œâ”€â”€ CommentBottomSheet.kt
â”‚   â”‚   â”œâ”€â”€ FeaturedMovieCard.kt
â”‚   â”‚   â”œâ”€â”€ FeedActivityCard.kt
â”‚   â”‚   â”œâ”€â”€ MovieCard.kt
â”‚   â”‚   â”œâ”€â”€ MovieDetailSheet.kt
â”‚   â”‚   â”œâ”€â”€ PosterGrid.kt
â”‚   â”‚   â”œâ”€â”€ RecommendationCard.kt
â”‚   â”‚   â”œâ”€â”€ Shimmer.kt
â”‚   â”‚   â”œâ”€â”€ StarRating.kt
â”‚   â”‚   â”œâ”€â”€ States.kt              âš ï¸ Vague name
â”‚   â”‚   â””â”€â”€ YouTubePlayer.kt
â”‚   â”‚
â”‚   â”œâ”€â”€ feed/                      âš ï¸ Inconsistent file placement
â”‚   â”‚   â”œâ”€â”€ FeedScreen.kt          (178 lines - TOO LARGE)
â”‚   â”‚   â”œâ”€â”€ FeedComponents.kt      âš ï¸ Should be in components/
â”‚   â”‚   â”œâ”€â”€ FeedProviderUtils.kt   âš ï¸ Should be in components/ or utils/
â”‚   â”‚   â””â”€â”€ components/            (10+ files)
â”‚   â”‚       â”œâ”€â”€ FeedActivityItem.kt
â”‚   â”‚       â”œâ”€â”€ FeedComparisonDialog.kt
â”‚   â”‚       â”œâ”€â”€ FeedContentState.kt
â”‚   â”‚       â”œâ”€â”€ FeedEmptyState.kt
â”‚   â”‚       â”œâ”€â”€ FeedFilterBar.kt
â”‚   â”‚       â”œâ”€â”€ FeedLoadingState.kt
â”‚   â”‚       â”œâ”€â”€ FeedMovieDetailSheet.kt
â”‚   â”‚       â””â”€â”€ FeedTopBar.kt
â”‚   â”‚
â”‚   â”œâ”€â”€ friends/                   âœ… Organized
â”‚   â”‚   â”œâ”€â”€ FriendsScreen.kt
â”‚   â”‚   â”œâ”€â”€ FriendRequestComponents.kt
â”‚   â”‚   â””â”€â”€ components/            (7 files)
â”‚   â”‚
â”‚   â”œâ”€â”€ navigation/                âœ… Navigation logic
â”‚   â”‚   â””â”€â”€ NavGraph.kt
â”‚   â”‚
â”‚   â”œâ”€â”€ profile/                   âš ï¸ TOO MANY FILES (19 components!)
â”‚   â”‚   â”œâ”€â”€ ProfileScreen.kt       âœ…
â”‚   â”‚   â”œâ”€â”€ EditProfileScreen.kt   âœ…
â”‚   â”‚   â”œâ”€â”€ FriendProfileScreen.kt âœ…
â”‚   â”‚   â”œâ”€â”€ FriendProfileCards.kt  âš ï¸ Should be in components/
â”‚   â”‚   â””â”€â”€ components/            (19 files - EXCESSIVE)
â”‚   â”‚       â”œâ”€â”€ DeleteAccountDialog.kt
â”‚   â”‚       â”œâ”€â”€ FriendProfileContent.kt
â”‚   â”‚       â”œâ”€â”€ FriendProfileHeader.kt
â”‚   â”‚       â”œâ”€â”€ FriendProfileMovieDetailSheet.kt
â”‚   â”‚       â”œâ”€â”€ FriendProfileTopBar.kt
â”‚   â”‚       â”œâ”€â”€ FriendRankingsList.kt
â”‚   â”‚       â”œâ”€â”€ FriendWatchlistTab.kt
â”‚   â”‚       â”œâ”€â”€ MovieComparisonDialog.kt
â”‚   â”‚       â”œâ”€â”€ MovieComparisonOption.kt
â”‚   â”‚       â”œâ”€â”€ ProfileActionButtons.kt
â”‚   â”‚       â”œâ”€â”€ ProfileEditButton.kt
â”‚   â”‚       â”œâ”€â”€ ProfileHeader.kt
â”‚   â”‚       â”œâ”€â”€ RankedMovieCard.kt
â”‚   â”‚       â”œâ”€â”€ ThemeSelectorCard.kt
â”‚   â”‚       â”œâ”€â”€ WatchItemCard.kt
â”‚   â”‚       â”œâ”€â”€ WatchlistPreviewCard.kt
â”‚   â”‚       â”œâ”€â”€ WatchlistPreviewInfo.kt
â”‚   â”‚       â”œâ”€â”€ WatchlistPreviewPoster.kt
â”‚   â”‚       â””â”€â”€ WatchlistPreviewSection.kt
â”‚   â”‚
â”‚   â”œâ”€â”€ ranking/                   âš ï¸ Inconsistent organization
â”‚   â”‚   â”œâ”€â”€ RankingScreen.kt       (170+ lines - LARGE)
â”‚   â”‚   â”œâ”€â”€ MovieActionSheet.kt    âš ï¸ Should be in components/
â”‚   â”‚   â”œâ”€â”€ state/                 âŒ EMPTY directory
â”‚   â”‚   â”œâ”€â”€ viewmodel/             âŒ EMPTY directory
â”‚   â”‚   â””â”€â”€ components/            (12 files)
â”‚   â”‚       â”œâ”€â”€ AddWatchedMovieDialog.kt
â”‚   â”‚       â”œâ”€â”€ ComparisonMovieOption.kt
â”‚   â”‚       â”œâ”€â”€ MovieComparisonDialog.kt
â”‚   â”‚       â”œâ”€â”€ MovieSearchResultCard.kt
â”‚   â”‚       â”œâ”€â”€ MovieSearchResultsList.kt
â”‚   â”‚       â”œâ”€â”€ RankedMovieInfo.kt
â”‚   â”‚       â”œâ”€â”€ RankedMovieMetadata.kt
â”‚   â”‚       â”œâ”€â”€ RankedMovieRankBadgeAndPoster.kt
â”‚   â”‚       â”œâ”€â”€ RankedMovieRow.kt
â”‚   â”‚       â””â”€â”€ RankingTopBar.kt
â”‚   â”‚
â”‚   â”œâ”€â”€ recommendation/            âœ… Single file
â”‚   â”‚   â””â”€â”€ RecommendationScreen.kt (150+ lines - LARGE)
â”‚   â”‚
â”‚   â”œâ”€â”€ theme/                     âœ… Well-organized
â”‚   â”‚   â”œâ”€â”€ Dimens.kt
â”‚   â”‚   â”œâ”€â”€ Shapes.kt
â”‚   â”‚   â”œâ”€â”€ Theme.kt
â”‚   â”‚   â””â”€â”€ Type.kt
â”‚   â”‚
â”‚   â”œâ”€â”€ util/                      âœ… Utilities
â”‚   â”‚   â””â”€â”€ TimeFormat.kt
â”‚   â”‚
â”‚   â”œâ”€â”€ viewmodels/                âœ… Centralized but inconsistent
â”‚   â”‚   â”œâ”€â”€ AuthViewModel.kt       (260 lines - LARGE, state _uiState)
â”‚   â”‚   â”œâ”€â”€ FeedViewModel.kt       (337+ lines - LARGE, state _uiState)
â”‚   â”‚   â”œâ”€â”€ FriendProfileViewModel.kt
â”‚   â”‚   â”œâ”€â”€ FriendViewModel.kt
â”‚   â”‚   â”œâ”€â”€ RankingViewModel.kt    (262 lines - LARGE, state _uiState)
â”‚   â”‚   â”œâ”€â”€ RecommendationViewModel.kt
â”‚   â”‚   â”œâ”€â”€ ThemeViewModel.kt
â”‚   â”‚   â”œâ”€â”€ UserViewModel.kt
â”‚   â”‚   â””â”€â”€ WatchlistViewModel.kt  (280 lines, state _ui âš ï¸ INCONSISTENT)
â”‚   â”‚
â”‚   â””â”€â”€ watchlist/                 âœ… Single file
â”‚       â””â”€â”€ WatchlistScreen.kt
â”‚
â”œâ”€â”€ fcm/                           âœ… Firebase Cloud Messaging
â”‚   â”œâ”€â”€ FcmHelper.kt
â”‚   â””â”€â”€ MovieTierFirebaseMessagingService.kt
â”‚
â”œâ”€â”€ utils/                         âœ… General utilities
â”‚   â””â”€â”€ LocationHelper.kt
â”‚
â”œâ”€â”€ MainActivity.kt                âœ… Entry point
â””â”€â”€ MovieTierApplication.kt        âœ… Application class

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

PROBLEMS IDENTIFIED
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ”´ CRITICAL PROBLEMS

1. EMPTY DOMAIN LAYER
   Files: domain/model/ (no files), domain/repository/ (no files)
   Impact: No domain entities â†’ API models mixed with business logic
   Violates Clean Architecture principles

2. EMPTY FEATURE DIRECTORIES
   Files: ui/ranking/state/, ui/ranking/viewmodel/, domain/usecase/user/
   Impact: Confusing - suggest structure was planned but incomplete

âŒ HIGH-SEVERITY PROBLEMS

1. INCONSISTENT STATE NAMING
   Problem: WatchlistViewModel uses _ui instead of _uiState
   Files: ui/viewmodels/WatchlistViewModel.kt
   Impact: Breaks naming convention, confuses developers

2. LARGE VIEWMODELS
   Files: AuthViewModel (260), RankingViewModel (262), FeedViewModel (337+)
   Impact: Hard to test, multiple responsibilities

3. LARGE SCREEN FILES
   Files: FeedScreen (178), RankingScreen (170+), RecommendationScreen (150+)
   Impact: Mixed concerns, hard to maintain

4. LOOSE FILE ORGANIZATION
   Files: FeedComponents.kt, FeedProviderUtils.kt at root instead of components/
   Impact: Inconsistent structure across features

âš ï¸ MEDIUM-SEVERITY PROBLEMS

1. EXCESSIVE PROFILE COMPONENTS
   Files: 19 component files in ui/profile/components/
   Impact: Hard to navigate, should be consolidated to 7-8 files

2. DUPLICATE CLASSES
   Found: CommonContext, MovieDialogState in FeedScreen + RecommendationScreen
   Impact: DRY violation, harder to maintain

3. SCATTERED LOCAL STORAGE
   Files: MovieQuoteProvider, ProvidersCache in data/local/
   Impact: Mixed concerns, unclear responsibilities

4. SINGLE ROUTE OBJECT
   Files: NavRoutes in NavGraph.kt (all routes together)
   Impact: Not scalable, no feature-based organization

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

RECOMMENDATIONS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœï¸ STRUCTURE IMPROVEMENTS

PHASE 1 (Critical):
  â€¢ Populate domain/model/ with Movie, User, RankedMovie, FeedActivity entities
  â€¢ Delete empty directories (ui/ranking/state, ui/ranking/viewmodel)
  â€¢ Or populate them if feature-scoped organization is desired

PHASE 2 (High):
  â€¢ Move FeedComponents.kt, FeedProviderUtils.kt â†’ ui/feed/components/
  â€¢ Move MovieActionSheet.kt â†’ ui/ranking/components/
  â€¢ Extract state classes from ViewModels to dedicated files:
    - ui/ranking/RankingState.kt
    - ui/feed/FeedState.kt
    - etc.

PHASE 3 (Medium):
  â€¢ Consolidate ui/profile/components/ (19 â†’ 7-8 files)
  â€¢ Create ui/common/ScreenParameterGroups.kt for duplicate classes
  â€¢ Organize routes by feature:
    - ui/navigation/AuthRoutes.kt
    - ui/navigation/ProfileRoutes.kt
    - etc.

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
